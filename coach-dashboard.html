<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>コーチ管理 | 隣のゴルフコーチ</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="coach-dashboard">
  <header class="site-header">
    <h1>コーチ管理</h1>
  </header>

  <main class="coach-main">
    <section class="profile-card">
      <img src="https://i.pravatar.cc/150?img=15" alt="コーチ写真" class="profile-img" />
      <h2>佐藤 コーチ</h2>
      <p class="bio">ドライバー・飛距離アップが得意です！</p>
      <div class="tags">
        <span>#ドライバー</span>
        <span>#アプローチ</span>
      </div>
    </section>

    <section class="section-card">
      <h3>スタジオ管理</h3>
      <div class="schedule-days">
        <span class="ok">月</span>
        <span class="ok">火</span>
        <span class="ok">水</span>
        <span class="ok">木</span>
        <span class="ng">金</span>
        <span class="ok">土</span>
        <span class="ok">日</span>
      </div>
    </section>

    <section class="section-card">
      <h3>料金設定</h3>
      <!-- ▼ 修正前 -->
<!-- ▼ 修正後 -->
<div class="price-section">
  <p>30分 ¥2,000〜</p>
  <p>60分 ¥3,000〜</p>
  <p>90分 ¥5,000〜</p>
  <button id="editBtn" class="edit-btn">✏️ 編集する</button>
</div>

<!-- ▼ 編集フォーム（最初は非表示） -->
<div id="editForm" class="edit-form" style="display:none;">
  <label>名前：<input type="text" id="editName"></label><br>
  <label>得意クラブ：<input type="text" id="editSpeciality"></label><br>
  <label>紹介文：<textarea id="editIntro"></textarea></label><br>
  <label>30分料金：<input type="number" id="edit30" value="2000"></label><br>
  <label>60分料金：<input type="number" id="edit60" value="3000"></label><br>
  <label>90分料金：<input type="number" id="edit90" value="5000"></label><br>
  <button id="saveBtn">💾 保存</button>
  <button id="cancelBtn">キャンセル</button>
</div>
    </section>
<section class="section-card">
  <h3>📅 スケジュール</h3>
  <div id="schedule-list">
    <ul id="scheduleItems">
      <li>2025-10-10（金） 10:00〜11:00　生徒：山田太郎</li>
    </ul>
  </div>

  <div id="addSchedule">
    <input type="date" id="dateInput">
    <input type="time" id="startInput">
    <input type="time" id="endInput">
    <input type="text" id="studentInput" placeholder="生徒名">
    <button id="addBtn">＋ 追加</button>
  </div>
</section>
    <section class="section-card">
  <h3>今月の売上</h3>
  <div id="sales-container">
    <p>30分レッスン：<input type="number" id="sales30" value="0"> 回</p>
    <p>60分レッスン：<input type="number" id="sales60" value="0"> 回</p>
    <p>90分レッスン：<input type="number" id="sales90" value="0"> 回</p>
    <button id="calcSalesBtn">💰 売上計算</button>
  </div>
  <div id="sales-result">
    <p>売上合計：<strong id="salesTotal">¥0</strong></p>
    <p>入金予定日：<strong id="salesDate"></strong></p>
  </div>
</section>
  </main>

  <footer class="footer-nav">
    <nav>
      <a href="index.html">🏠 ホーム</a>
      <a href="#">📅 スケジュール</a>
      <a href="#">💰 売上</a>
      <a href="coach-dashboard.html" class="active">👨‍🏫 管理</a>
    </nav>
  </footer>
  <script>
document.addEventListener("DOMContentLoaded", () => {
  const editBtn = document.getElementById("editBtn");
  const editForm = document.getElementById("editForm");
  const saveBtn = document.getElementById("saveBtn");
  const cancelBtn = document.getElementById("cancelBtn");

  // 編集フォーム開閉
  editBtn.addEventListener("click", () => {
    editForm.style.display = "block";
  });
  cancelBtn.addEventListener("click", () => {
    editForm.style.display = "none";
  });

  // 保存処理
  saveBtn.addEventListener("click", () => {
    const profile = {
      name: document.getElementById("editName").value,
      speciality: document.getElementById("editSpeciality").value,
      intro: document.getElementById("editIntro").value,
      price30: document.getElementById("edit30").value,
      price60: document.getElementById("edit60").value,
      price90: document.getElementById("edit90").value
    };

    localStorage.setItem("coachProfile", JSON.stringify(profile));
    alert("保存しました！");
    editForm.style.display = "none";
    location.reload();
  });

  // ページ読み込み時に保存データ反映
  const saved = localStorage.getItem("coachProfile");
  if (saved) {
    const p = JSON.parse(saved);
    document.querySelector(".price-section").innerHTML = `
      <p>30分 ¥${p.price30}〜</p>
      <p>60分 ¥${p.price60}〜</p>
      <p>90分 ¥${p.price90}〜</p>
      <button id="editBtn" class="edit-btn">✏️ 編集する</button>
    `;
  }
});
    tonarino-golf-coach-main/
      // ======================
// 売上計算処理
// ======================
const calcBtn = document.getElementById("calcSalesBtn");
const totalEl = document.getElementById("salesTotal");
const dateEl = document.getElementById("salesDate");

calcBtn.addEventListener("click", () => {
  const count30 = parseInt(document.getElementById("sales30").value) || 0;
  const count60 = parseInt(document.getElementById("sales60").value) || 0;
  const count90 = parseInt(document.getElementById("sales90").value) || 0;

  const total = count30 * 2000 + count60 * 3000 + count90 * 5000;
  totalEl.textContent = "¥" + total.toLocaleString();

  // 入金予定日 = 本日 + 5日
  const date = new Date();
  date.setDate(date.getDate() + 5);
  const month = date.getMonth() + 1;
  const day = date.getDate();
  dateEl.textContent = `${month}月${day}日`;

  // localStorage 保存
  localStorage.setItem("salesData", JSON.stringify({ count30, count60, count90, total, date: `${month}月${day}日` }));
});

// ページ読み込み時に保存データを反映
window.addEventListener("DOMContentLoaded", () => {
  const saved = localStorage.getItem("salesData");
  if (saved) {
    const d = JSON.parse(saved);
    document.getElementById("sales30").value = d.count30;
    document.getElementById("sales60").value = d.count60;
    document.getElementById("sales90").value = d.count90;
    totalEl.textContent = "¥" + d.total.toLocaleString();
    dateEl.textContent = d.date;
  }
});
    // ======================
// スケジュール管理処理
// ======================
const addBtn = document.getElementById("addBtn");
const listEl = document.getElementById("scheduleItems");

addBtn.addEventListener("click", () => {
  const date = document.getElementById("dateInput").value;
  const start = document.getElementById("startInput").value;
  const end = document.getElementById("endInput").value;
  const student = document.getElementById("studentInput").value;

  if (!date || !start || !end || !student) {
    alert("すべての項目を入力してください。");
    return;
  }

  const text = `${date}　${start}〜${end}　生徒：${student}`;
  const li = document.createElement("li");
  li.textContent = text;
  listEl.appendChild(li);

  // localStorage保存
  const schedules = JSON.parse(localStorage.getItem("schedules") || "[]");
  schedules.push(text);
  localStorage.setItem("schedules", JSON.stringify(schedules));

  // 入力リセット
  document.getElementById("dateInput").value = "";
  document.getElementById("startInput").value = "";
  document.getElementById("endInput").value = "";
  document.getElementById("studentInput").value = "";
});

// ページ読み込み時にスケジュールを復元
window.addEventListener("DOMContentLoaded", () => {
  const schedules = JSON.parse(localStorage.getItem("schedules") || "[]");
  schedules.forEach((text) => {
    const li = document.createElement("li");
    li.textContent = text;
    listEl.appendChild(li);
  });
});
    // ======================
// 売上計算機能
// ======================
document.getElementById("calcSalesBtn").addEventListener("click", () => {
  const n30 = Number(document.getElementById("sales30").value) || 0;
  const n60 = Number(document.getElementById("sales60").value) || 0;
  const n90 = Number(document.getElementById("sales90").value) || 0;

  // 単価設定
  const price30 = 2000;
  const price60 = 3000;
  const price90 = 5000;

  // 売上合計を計算
  const total = n30 * price30 + n60 * price60 + n90 * price90;
  document.getElementById("salesTotal").textContent = `¥${total.toLocaleString()}`;

  // 入金予定日を「翌月10日」に設定
  const now = new Date();
  const payDate = new Date(now.getFullYear(), now.getMonth() + 1, 10);
  const dateStr = `${payDate.getFullYear()}年${payDate.getMonth() + 1}月${payDate.getDate()}日`;
  document.getElementById("salesDate").textContent = dateStr;

  // localStorage に保存
  localStorage.setItem("salesTotal", total);
  localStorage.setItem("salesDate", dateStr);
});

// ページ読込時に復元
window.addEventListener("DOMContentLoaded", () => {
  const total = localStorage.getItem("salesTotal");
  const date = localStorage.getItem("salesDate");
  if (total) document.getElementById("salesTotal").textContent = `¥${Number(total).toLocaleString()}`;
  if (date) document.getElementById("salesDate").textContent = date;
});
</script>
</body>
</html>
